<!DOCTYPE html>
<html>
   <head>
       <link rel="stylesheet" type="text/css" href="main.css" />
       <title>Geoffrey Meric</title>
  </head>
    <body>
        <div id="fixedheader">
            <div class="gmheader">
                <a href="index.html">Geoffrey Meric</a>
                <a href="assets/resume_geoffreymeric.pdf">CV</a>
                <a href="https://github.com/gcsmeric">github</a>
                <a href="https://www.linkedin.com/in/geoffrey-meric/">linkedin</a>
                <a href="mailto:gcs.meric@gmail.com" id="hireme">
                    hire me</a>
                <!--<button class="hiremebutton">hire me</button>-->
    </div> 
    <div id="dividerline">
    </div>
</div>
        </div>
        <div>
            <h1 id="heading">
                Hey, I'm Geoffrey - a Montreal based computer science student at McGill university.
            </h1>
        </div>
        <div>
            <p1 id="paragraph1">
                Throughout my undergraduate studies I've worked on independent software 
                development projects. This website was created to showcase them.
            </p1>
        </div>
        <div id="emaildiv">
            <a href="mailto:gcs.meric@gmail.com" id="email">gcs.meric@gmail.com</a>
        </div>
        <div id="projectsheader">
            <p2 id="projectshead">PROJECTS</p2>
        </div>
        <div class="projects">
            <a id="proj1"> 
                <a class="button" href="#proj1popup">
                    <img id="sudokuimg" src="assets/sudoku.svg">
                </a>
            </a>
            <div id="proj1popup" class="overlay">
                <div class="popup">
                    <h2>
                        sudoku solver
                    </h2>
                    <a class="closepopup" href="#projects">&times;</a>
                    <div class="proj1content">
                        I developed a sudoku solver in Java, using a recursive backtracking algorithm to solve any 3x3 sudoku.
                        This program was converted to javascript and implemented below for you to try. 
                    </div>
                        <table id="inputsudoku" class="sudokutable">
                            <caption>
                                Input Sudoku<c class="info">&#x1F6C8;
                                    <span class="extra-info">
                                      Enter numbers into the input sudoku in desired positions, leave the rest of squares blank or fill them with 0s. Press solve to obtain a completed sudoku.
                                    </span>
                                </c><br />
                            </caption>
                          <colgroup><col><col><col></colgroup>
                          <colgroup><col><col><col></colgroup>
                          <colgroup><col><col><col></colgroup>
                          <tbody>
                            <tr> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>
                            <tr> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>
                            <tr> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>
                          <tbody>
                            <tr> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>
                            <tr> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>
                            <tr> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>
                          <tbody>
                            <tr> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>
                            <tr> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>
                            <tr> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td> <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>  <td class="cell"><input type="text" id='sudokuinput' maxlength="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'></input></td>
                        </table>
                        <div id="solvediv">
                            <button onclick="solvefinal();" class="solvedbutton">solve</button>
                        </div>
                        <!--use https://stackoverflow.com/questions/7853130/how-to-change-the-style-of-alert-box-->
                        <table id="outputsudoku" class="sudokutable">
                            <caption>Output Sudoku</caption>
                          <colgroup><col><col><col></colgroup>
                          <colgroup><col><col><col></colgroup>
                          <colgroup><col><col><col></colgroup>
                          <tbody>
                            <tr> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>
                            <tr> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>
                            <tr> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>
                          <tbody>
                            <tr> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>
                            <tr> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>
                            <tr> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>
                          <tbody>
                            <tr> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>
                            <tr> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>
                            <tr> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td> <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>  <td class="cell"><input disabled type="number" id='sudokuinput' maxlength="1"></td>
                        </table>
                        <div>
                            <script>
                                function getInput3() {
                                    var allInputs = document.getElementsByTagName('input');
                                var num = allInputs.item(3).value;
                                var row = Math.floor(80/9);
                                var col = 80 % 9;
                                var bool = (num=='');

                                alert('fourth input is ' + num + row + col + bool);
                                }

                                function test() {
                                    var allInputs = document.getElementsByTagName('input');
                                    allInputs.item(3).value = 2;
                                    for (var k=81; k<81*2; k++) {
                                        allInputs.item(k).value = 2;
                                    }
                                }

                                function test3() {
                                    var grid = [
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0]
                            ];
                                    fillgrid(grid);
                                    var bool = grid[3][0]==0;
                                    alert('first input is ' + grid[0][0]);
                                    alert('fourth input is ' + grid[0][3]);
                                    alert(bool);
                                    grid[0][3]=4;
                                    alert('fourth input is ' + grid[0][3]);
                                }

                                var grid = [
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0]
                            ]
                                function fillgrid(grid) {
                                    
                                    var allInputs = document.getElementsByTagName('input');
                                    for (var i=0; i<81; i++) {
                                        var x = allInputs.item(i).value;
                                        if (x=='') x=0;
                                        var row = Math.floor(i/9);
                                        var col = i % 9;
                                        grid[row][col]=x;
                                    }
                                    return grid;
                                }

                                /*function isValid(grid, row, col, x) {
                                for (var j = 0; j < 9; j++) {
                                    var sqrow = 3 * Math.floor(row / 3) + Math.floor(j / 3);
                                    var sqcol = 3 * Math.floor(col / 3) + j % 3;
                                    if (grid[row][j] == x || grid[j][col] == x || grid[sqrow][sqcol] == x) return false;
                                    }
                                return true;
                                }*/
                                /*function isValid(board, row, col, k) {
                                for (let i = 0; i < 9; i++) {
                                    const m = 3 * Math.floor(row / 3) + Math.floor(i / 3);
                                    const n = 3 * Math.floor(col / 3) + i % 3;
                                    if (board[row][i] == k || board[i][col] == k || board[m][n] == k) {
                                    return false;
                                    }
                                }
                                return true;
                            }*/
                                function isValid(grid, row, col, x) {
                                    return (rowvalid(grid, row, col, x) && colvalid(grid, row, col, x) && squarevalid(grid, row, col, x));
                                }

                                function rowvalid(grid, row, col, x) {
                                    for (var i=0; i<9; i++) {
                                        if (i == col) {
                                            continue;
                                        }
                                        if (grid[row][i]==x) {
                                            return false;
                                        }
                                    }
                                    return true;
                                }
                                function colvalid(grid, row, col, x) {
                                    for (var i=0; i<9; i++) {
                                        if (i == row) {
                                            continue;
                                        }
                                        if (grid[i][col]==x) {
                                            return false;
                                        }
                                    }
                                    return true;
                                }
                                function squarevalid(grid, row, col, x) {
                                    var sqxcoord = Math.floor(col/3)+1;
                                    var sqycoord = Math.floor(row/3)+1;
                                    var sqymax = (sqycoord)*3-1;
                                    var sqymin = (sqycoord-1)*3;
                                    var sqxmax = (sqxcoord)*3-1;
                                    var sqxmin = (sqxcoord-1)*3;
                                    var xcoord;
                                    for (xcoord=sqxmin; xcoord<=sqxmax; xcoord++) {
                                        var ycoord;
                                        for (ycoord=sqymin; ycoord<=sqymax; ycoord++) {
                                            if (xcoord==col && ycoord==row) {
                                                continue;
                                            }
                                            if (grid[ycoord][xcoord] == x) {
                                                return false;
                                            }
                                        }
                                    }
                                    return true;
                                }

                                function solve(grid) {
                                    for (var row = 0; row <9; row++) {
                                        for (var col = 0; col < 9; col++) {
                                            if (grid[row][col] == 0) {
                                                for (var x = 1; x <= 9; x++) {
                                                    grid[row][col]=x;
                                                    var bool = isValid(grid, row, col, x);
                                                    if (isValid(grid, row, col, x) && solve(grid)) {
                                                        return true;
                                                    }
                                                    grid[row][col] = 0;
                                                }
                                                return false;
                                            }
                                        }
                                    }
                                    return true;
                                }

                                function solvefinal() {
                                    var grid = [
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                                [0, 0, 0, 0, 0, 0, 0, 0, 0]
                                ];
                                    fillgrid(grid);
                                    //check if initial input is solvable
                                    for (var a=0;a<9;a++) {
                                        for (var b=0;b<9;b++) {
                                            if (grid[a][b]==0 || isValid(grid, a, b, grid[a][b])) continue;
                                            else {
                                                alert('the inputted sudoku is not solvable; check to make sure there are no repititions in each row, column or box');
                                                return 1;
                                            }
                                        }
                                    }
                                    //solve and update output
                                    solve(grid);
                                    var allOutputs = document.getElementsByTagName('input');
                                    for (var k=81; k<81*2; k++) {
                                        var row = Math.floor((k-81)/9);
                                        var col = (k-81) % 9;
                                        allOutputs.item(k).value = grid[row][col];
                                    }
                                }

                                function test2() {
                                    var allOutputs = document.getElementsByTagName('input');
                                    for (var k=81; k<81*2; k++) {
                                        allOutputs.item(k).value = k;
                                    }
                                }
                                
                                </script>
                        </div>
                </div>
            </div>
            <a id="proj2">
                <!--<img src="assets/sudoku.svg">-->
                <a class="button" href="#proj2popup">
                    <img id="sudokuimg" src="assets/chess-board.png">
                </a>
            <div id="proj2popup" class="overlay">
                <div class="popup">
                     <h2>
                        2-player chess
                    </h2>
                    <a class="closepopup" href="#">&times;</a>
                    <div class="proj1content">
                        this project is a fully playable 2-player chess board, programmed in python and transitioned to javascript. The program implements more complex chess rules such as castling, promotions and en-passant, and can discern checkmate and stalemate positions, as well as forced draw scenarios.
                    </div>
                    <table class="chess-board">
                        <tbody>
                            <tr>
                                <th></th>
                                <th>a</th>
                                <th>b</th>
                                <th>c</th>
                                <th>d</th>
                                <th>e</th>
                                <th>f</th>
                                <th>g</th>
                                <th>h</th>
                            </tr>
                            <tr>
                                <th>8</th>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <th>8</th>
                            </tr>
                            <tr>
                                <th>7</th>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <th>7</th>
                            </tr>
                            <tr>
                                <th>6</th>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <th>6</th>
                            </tr>
                            <tr>
                                <th>5</th>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <th>5</th>
                            </tr>
                            <tr>
                                <th>4</th>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <th>4</th>
                            </tr>
                            <tr>
                                <th>3</th>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <th>3</th>
                            </tr>
                            <tr>
                                <th>2</th>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <th>2</th>
                            </tr>
                            <tr>
                                <th>1</th>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <td class="dark"><input id='dark' disabled maxlength="1"></td>
                                <td class="light"><input id='light' disabled maxlength="1"></td>
                                <th>1</th>
                            </tr>
                            <tr>
                                <th></th>
                                <th>a</th>
                                <th>b</th>
                                <th>c</th>
                                <th>d</th>
                                <th>e</th>
                                <th>f</th>
                                <th>g</th>
                                <th>h</th>
                            </tr>
                        </tbody>
                    </table>
                    <!--<table id="chessboard">
                        
                      <tbody>
                        <tr> <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td>  <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td>  <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td>  
                        <tr> <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td>  <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td>  <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td>  
                        <tr> <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td>  <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td>  <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td>  
                        <tr> <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td>  <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td>  <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td> 
                        <tr> <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td>  <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td>  <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td>  
                        <tr> <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td>  <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td>  <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td>  
                        <tr> <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td>  <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td>  <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td>  
                        <tr> <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td>  <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td>  <td class="cell" id="white"><input disabled maxlength="1"></td> <td class="cell" id="black"><input disabled maxlength="1"></td> <td class="cell" id="white"><input disabled maxlength="1"></td> 
                    </table>-->
                    <!--https://codepen.io/huffn/pen/qyYoPy-->
                    <!-- use https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_str_fontcolor so use id demo on squares instead of input-->
                    <script>
                        var board = [
                                ['R2', 'N2', 'B2', 'Q2', 'K2', 'B2', 'N2', 'R2'],
                                ['P2', 'P2', 'P2', 'P2', 'P2', 'P2', 'P2', 'P2'],
                                ['x', 'x', 'x', 'x', 'x', 'x', 'x', 'x'],
                                ['x', 'x', 'x', 'x', 'x', 'x', 'x', 'x'],
                                ['x', 'x', 'x', 'x', 'x', 'x', 'x', 'x'],
                                ['x', 'x', 'x', 'x', 'x', 'x', 'x', 'x'],
                                ['P1', 'P1', 'P1', 'P1', 'P1', 'P1', 'P1', 'P1'],
                                ['R1', 'N1', 'B1', 'Q1', 'K1', 'B1', 'N1', 'R1'],
                            ];

                            function setboard(board) {
                                var allInputs = document.getElementsByTagName('input');
                                for (var i = 162; i<162+64; i++) {
                                    var j = i-162;
                                    var row = Math.floor(j/8);
                                    var col = j % 8;
                                    allInputs.item(i).value = converttostring(board[row][col]);
                                }
                            }

                            /*function converttostring(str) {
                                if (str=="x") return "";
                                var finstr = str.charAt(0);
                                if (str.charAt(1)=='1') var fstr = finstr.toUpperCase();
                                else {
                                    var fstr = finstr.toLowerCase();
                                }
                                return fstr;
                            }*/

                            function converttostring(str) {
                                if (str=="x") return "";
                                var finstr = str.charAt(0);
                                var string = '';
                                if (str.charAt(1)=='1') {
                                    if (finstr=='P') string = '';
                                    if (finstr=='Q') string = '';
                                    if (finstr=='K') string = '';
                                    if (finstr=='R') string = '';
                                    if (finstr=='B') string = '';
                                    if (finstr=='N') string = '';
                                }
                                else {
                                    if (finstr=='P') string = '';
                                    if (finstr=='Q') string = '';
                                    if (finstr=='K') string = '';
                                    if (finstr=='R') string = '';
                                    if (finstr=='B') string = '';
                                    if (finstr=='N') string = '';
                                }
                                return string;
                            }

                            function isvalidmove(board, startx, starty, endx, endy) {
                                var piece = board[starty][startx];
                                if (piece == "x") {
                                    alert("there is no movable piece on this square");
                                    return false;
                                }
                                var player = piece[1];
                                var id = piece[2];
                                if (board[endy][endx]!='x' && board[endy][endx][1]==player) return false;
                                if (piece[0]=="P") {
                                    if (player=="1" && starty==6) {
                                        if (startx==endx) {
                                            if (endy==5 && board[endy][endx]=='x') return true;
                                            else if (endy==4 && board[endy][endx]=='x' && board[5][endx]=='x') return true;
                                            else return false;
                                        }
                                        else if (endx==startx-1 && endy==5) {
                                            if (board[endy][endx]!="x" && board[endy][endx][1]!=player) return true;
                                            else return false;
                                        }
                                        else if (endx==startx+1 && endy==5) {
                                            if (board[endy][endx]!="x" && board[endy][endx][1]!=player) return true;
                                            else return false;
                                        }
                                        else return false;
                                    }
                                    else if (player=="2" && starty==1) {
                                        if (startx==endx) {
                                            if (endy==2 && board[endy][endx]=='x') return true;
                                            else if (endy==3 && board[endy][endx]=='x' && board[2][endx]=='x') return true;
                                            else return false;
                                        }
                                        else if (endx==startx-1 && endy==2) {
                                            if (board[endy][endx]!="x" && board[endy][endx][1]!=player) return true;
                                            else return false;
                                        }
                                        else if (endx==startx+1 && endy==2) {
                                            if (board[endy][endx]!="x" && board[endy][endx][1]!=player) return true;
                                            else return false;
                                        }
                                        else return false;
                                    }
                                    else if (player=="1" && starty<6 && starty>0) {
                                        if (endx==startx) {
                                            if (endy==starty-1 && board[endy][endx]=='x') return true;
                                            else return false;
                                        }
                                        else if (endx==startx+1) {
                                            if (endy==starty-1 && board[endy][endx]!="x" && board[endy][endx][1]!=player) return true;
                                            //en passant
                                            else if (starty==3&&endy==starty-1 && (board[endy][endx]=='x'||board[endy][endx][1]!=player)&&lastmove==endx) return true;
                                            else return false;
                                        }
                                        else if (endx==startx-1) {
                                            if (endy==starty-1 && board[endy][endx]!="x" && board[endy][endx][1]!=player) return true;
                                            //en passant
                                            else if (starty==3&&endy==starty-1 && (board[endy][endx]=='x'||board[endy][endx][1]!=player)&&lastmove==endx) return true;
                                            else return false;
                                        }
                                    }
                                    else if (player=="2" && starty>1 && starty<7) {
                                        if (endx==startx) {
                                            if (endy==starty+1 && board[endy][endx]=='x') return true;
                                            else return false;
                                        }
                                        else if (endx==startx+1) {
                                            if (endy==starty+1 && board[endy][endx]!="x" && board[endy][endx][1]!=player) return true;
                                            //en passant
                                            else if (starty==4 &&endy==starty+1 && (board[endy][endx]=='x'||board[endy][endx][1]!=player)&&lastmove==endx) return true;
                                            else return false;
                                        }
                                        else if (endx==startx-1) {
                                            if (endy==starty+1 && board[endy][endx]!="x" && board[endy][endx][1]!=player) return true;
                                            //en passant
                                            else if (starty==4 &&endy==starty+1 && (board[endy][endx]=='x'||board[endy][endx][1]!=player)&&lastmove==endx) return true;
                                            else return false;
                                        }
                                    }
                                    else return false;
                                }
                                else if (piece[0]=="R") {
                                                                        
                                    if (startx==endx && starty==endy) {
                                        return false;
                                    }
                                    if (startx==endx) {
                                        if (starty < endy) {
                                            for (var i = starty+1; i<=endy; i++) {
                                                if (i!=endy&&board[i][endx]!='x') return false;
                                            }
                                        }
                                        else {
                                            for (var i = starty-1; i>=endy; i--) {
                                                if (i!=endy&&board[i][endx]!='x') return false;
                                            }
                                        }
                                    }
                                    else if (starty==endy) {
                                        if (startx < endx) {
                                            for (var i = startx+1; i<=endx; i++) {
                                                if (i!=endx&&board[endy][i]!='x') return false;
                                            }
                                        }
                                        else {
                                            for (var i = startx-1; i>=endx; i--) {
                                                if (i!=endx&&board[endy][i]!='x') return false;
                                            }
                                        }
                                    }
                                    else return false;
                                    return true; 
                                }
                                else if (piece[0]=="N") {
                                    if (board[endy][endx]=='x' || board[endy][endx][1]!=player) {
                                        if (endx==startx+2) {
                                            if (endy==starty+1 || endy==starty-1) return true;
                                            else return false;
                                        }
                                        if (endx==startx-2) {
                                            if (endy==starty+1 || endy==starty-1) return true;
                                            else return false;
                                        }
                                        if (endx==startx+1) {
                                            if (endy==starty+2 || endy==starty-2) return true;
                                            else return false;
                                        }
                                        if (endx==startx-1) {
                                            if (endy==starty+2 || endy==starty-2) return true;
                                            else return false;
                                        }
                                    }
                                }
                                else if (piece[0]=="B") {
                                    if (startx==endx && starty==endy) {
                                        return false;
                                    }
                                    if (Math.abs(startx-endx)==Math.abs(starty-endy)) {
                                        var int = Math.abs(starty-endy);
                                        if (startx>endx) {
                                            if (starty>endy) {
                                                for (var i=1; i<int; i++) {
                                                    if (board[starty-i][startx-i]!='x') return false;
                                                }
                                            }
                                            else if (starty<endy) {
                                                for (var i=1; i<int; i++) {
                                                    if (board[starty+i][startx-i]!='x') return false;
                                                }
                                            }
                                        }
                                        else {
                                            if (starty>endy) {
                                                for (var i=1; i<int; i++) {
                                                    if (board[starty-i][startx+i]!='x') return false;
                                                }
                                            }
                                            else if (starty<endy) {
                                                for (var i=1; i<int; i++) {
                                                    if (board[starty+i][startx+i]!='x') return false;
                                                }
                                            }
                                        }
                                    }
                                    else return false;
                                    return true; 
                                }
                                else if (piece[0]=="Q") {
                                    if (startx==endx && starty==endy) {
                                        return false;
                                    }
                                    if (startx==endx) {
                                        if (starty < endy) {
                                            for (var i = starty+1; i<=endy; i++) {
                                                if (i!=endy&&board[i][endx]!='x') return false;
                                            }
                                        }
                                        else {
                                            for (var i = starty-1; i>=endy; i--) {
                                                if (i!=endy&&board[i][endx]!='x') return false;
                                            }
                                        }
                                    }
                                    else if (starty==endy) {
                                        if (startx < endx) {
                                            for (var i = startx+1; i<=endx; i++) {
                                                if (i!=endx&&board[endy][i]!='x') return false;
                                            }
                                        }
                                        else {
                                            for (var i = startx-1; i>=endx; i--) {
                                                if (i!=endx&&board[endy][i]!='x') return false;
                                            }
                                        }
                                    }
                                    else if (Math.abs(startx-endx)==Math.abs(starty-endy)) {
                                        var int = Math.abs(starty-endy);
                                        if (startx>endx) {
                                            if (starty>endy) {
                                                for (var i=1; i<int; i++) {
                                                    if (board[starty-i][startx-i]!='x') return false;
                                                }
                                            }
                                            else if (starty<endy) {
                                                for (var i=1; i<int; i++) {
                                                    if (board[starty+i][startx-i]!='x') return false;
                                                }
                                            }
                                        }
                                        else {
                                            if (starty>endy) {
                                                for (var i=1; i<int; i++) {
                                                    if (board[starty-i][startx+i]!='x') return false;
                                                }
                                            }
                                            else if (starty<endy) {
                                                for (var i=1; i<int; i++) {
                                                    if (board[starty+i][startx+i]!='x') return false;
                                                }
                                            }
                                        }
                                    }
                                    else return false;
                                    return true; 
                                }
                                else if (piece[0]=="K") {
                                    if (endy==starty+1) {
                                        if (endx==startx+1 || endx==startx || endx==startx-1) return true;
                                        else return false;
                                    }
                                    if (endy==starty) {
                                        if (endx==startx+1 || endx==startx-1) return true;
                                        if (endx==startx+2) {
                                            if(piece=='K1'&&startx==4&&starty==7&&endx==6&&K1movecount==0&&R12movecount==0&&board[starty][startx+1]=='x'&&board[starty][startx+2]=='x'&&!(ischeck(board, 1))) return true;
                                            if(piece=='K2'&&startx==4&&starty==0&&endx==6&&K2movecount==0&&R22movecount==0&&board[starty][startx+1]=='x'&&board[starty][startx+2]=='x'&&!(ischeck(board, 2))) return true;
                                        }
                                        if (endx==startx-2) {
                                            if(piece=='K1'&&startx==4&&starty==7&&endx==2&&K1movecount==0&&R11movecount==0&&board[starty][startx-1]=='x'&&board[starty][startx-2]=='x'&&!(ischeck(board, 1))) return true;
                                            if(piece=='K2'&&startx==4&&starty==0&&endx==2&&K2movecount==0&&R21movecount==0&&board[starty][startx-1]=='x'&&board[starty][startx-2]=='x'&&!(ischeck(board, 2))) return true;
                                        }
                                        else return false;
                                    }
                                    if (endy==starty-1) {
                                        if (endx==startx+1 || endx==startx || endx==startx-1) return true;
                                        else return false;
                                    }
                                    return false;
                                }
                            }

                        var turn = 0;
                        var lastmove = '';
                        var K1movecount = 0;
                        var K2movecount = 0;
                        var R11movecount = 0;
                        var R12movecount = 0;
                        var R21movecount = 0;
                        var R22movecount = 0;
                        function startgame() {
                            document.getElementById("moveinput").style.display = 'block';
                            
                            /*var allInputs = document.getElementsByTagName('input');
                            allInputs.item(162).value='r';
                            allInputs.item(162+1).value='n';
                            allInputs.item(162+2).value='b';
                            allInputs.item(162+3).value='q';
                            allInputs.item(162+4).value='k';
                            allInputs.item(162+5).value='b';
                            allInputs.item(162+6).value='n';
                            allInputs.item(162+7).value='r';
                            allInputs.item(162+8).value='p';
                            allInputs.item(162+9).value='p';
                            allInputs.item(162+10).value='p';
                            allInputs.item(162+11).value='p';
                            allInputs.item(162+12).value='p';
                            allInputs.item(162+13).value='p';
                            allInputs.item(162+14).value='p';
                            allInputs.item(162+15).value='p';

                            allInputs.item(162+48).value='P';
                            allInputs.item(162+49).value='P';
                            allInputs.item(162+50).value='P';
                            allInputs.item(162+51).value='P';
                            allInputs.item(162+52).value='P';
                            allInputs.item(162+53).value='P';
                            allInputs.item(162+54).value='P';
                            allInputs.item(162+55).value='P';
                            allInputs.item(162+56).value='R';
                            allInputs.item(162+57).value='N';
                            allInputs.item(162+58).value='B';
                            allInputs.item(162+59).value='Q';
                            allInputs.item(162+60).value='K';
                            allInputs.item(162+61).value='B';
                            allInputs.item(162+62).value='N';
                            allInputs.item(162+63).value='R';*/
                            var board = [
                                ['R21', 'N21', 'B21', 'Q2', 'K2', 'B22', 'N22', 'R22'],
                                ['P21', 'P22', 'P23', 'P24', 'P25', 'P26', 'P27', 'P28'],
                                ['x', 'x', 'x', 'x', 'x', 'x', 'x', 'x'],
                                ['x', 'x', 'x', 'x', 'x', 'x', 'x', 'x'],
                                ['x', 'x', 'x', 'x', 'x', 'x', 'x', 'x'],
                                ['x', 'x', 'x', 'x', 'x', 'x', 'x', 'x'],
                                ['P11', 'P12', 'P13', 'P14', 'P15', 'P16', 'P17', 'P18'],
                                ['R11', 'N11', 'B11', 'Q1', 'K1', 'B12', 'N12', 'R12'],
                            ];
                            var K1movecount = 0;
                            var K2movecount = 0;
                            var R11movecount = 0;
                            var R12movecount = 0;
                            var R21movecount = 0;
                            var R22movecount = 0;
                            var lastmove = "";
                            var turn = 0;
                            setboard(board);
                            var inputstart='';
                            var inputend='';
                            while (true) {
                                if (validinput()) {
                                    var allInputs = document.getElementsByTagName('input');
                                    inputstart=allInputs.item(226).value;
                                    inputend=allInputs.item(227).value;
                                    var convstart = convsquare(inputstart);
                                    var convend = convsquare(inputend);
                                    var startx = Math.floor(convstart/10);
                                    var starty = convstart % 10;
                                    var endx = Math.floor(convend/10);
                                    var endy = convend % 10;
                                    //get x y start end


                                    //maybe use while loop here to keep getting input until valid move
                                    if (isvalidmove(board, startx, starty, endx, endy)) {
                                        movepiece(board, startx, starty, endx, endy);
                                        //wipe inputs
                                    }
                                    else {
                                        alert('invalid input squares, please try again')
                                    }
                                }
                            }
                        }

                        function copyboard(board) {
                            var board2 = [
                                ['R21', 'N21', 'B21', 'Q2', 'K2', 'B22', 'N22', 'R22'],
                                ['P21', 'P22', 'P23', 'P24', 'P25', 'P26', 'P27', 'P28'],
                                ['x', 'x', 'x', 'x', 'x', 'x', 'x', 'x'],
                                ['x', 'x', 'x', 'x', 'x', 'x', 'x', 'x'],
                                ['x', 'x', 'x', 'x', 'x', 'x', 'x', 'x'],
                                ['x', 'x', 'x', 'x', 'x', 'x', 'x', 'x'],
                                ['P11', 'P12', 'P13', 'P14', 'P15', 'P16', 'P17', 'P18'],
                                ['R11', 'N11', 'B11', 'Q1', 'K1', 'B12', 'N12', 'R12'],
                            ];
                            for (var i=0; i<8; i++) {
                                for (var j=0; j<8; j++) {
                                    board2[i][j]=board[i][j];
                                }
                            }
                            return board2;
                        }


                        function movepiece(board, startx, starty, endx, endy) {
                            /*alert('moving');
                            //remove valid check here? have it in main function maybe
                            if (isvalidmove(board, startx, starty, endx, endy)) {*/
                                var piece = board[starty][startx];
                                board[starty][startx]='x';
                                board[endy][endx]=piece;
                                if (piece[0]=='K'&&endx==startx+2) {
                                    var rook = board[starty][7];
                                    board[starty][5]=rook;
                                    board[starty][7]='x';
                                }
                                if (piece[0]=='K'&&endx==startx-2) {
                                    var rook = board[starty][0];
                                    board[starty][3]=rook;
                                    board[starty][0]='x';
                                }
                                if (piece[0]=='P'&&(endx==startx+1||endx==startx-1)&&lastmove==endx) {
                                    board[starty][endx]='x';
                                }
                                if (piece[0]=='P'&&piece[1]=='1'&&starty==1) {
                                    var choice = '';
                                    while (!(choice=='queen'||choice=='rook'||choice=='knight'||choice=='bishop')) {
                                        choice = prompt('Enter piece you want to promote to in lowercase. Options are queen, rook, bishop, knight');
                                        if (choice=='queen') board[endy][endx]='Q1';
                                        if (choice=='rook') board[endy][endx]='R1';
                                        if (choice=='knight') board[endy][endx]='N1';
                                        if (choice=='bishop') board[endy][endx]='B1';
                                    }
                                }
                                if (piece[0]=='P'&&piece[1]=='2'&&starty==6) {
                                    var choice = '';
                                    while (!(choice=='queen'||choice=='rook'||choice=='knight'||choice=='bishop')) {
                                        choice = prompt('Enter piece you want to promote to in lowercase. Options are queen, rook, bishop, knight');
                                        if (choice=='queen') board[endy][endx]='Q2';
                                        if (choice=='rook') board[endy][endx]='R2';
                                        if (choice=='knight') board[endy][endx]='N2';
                                        if (choice=='bishop') board[endy][endx]='B2';
                                    }
                                }
                                setboard(board);
                                if (piece=='R11') {
                                    R11movecount+=1;
                                }
                                if (piece=='R12') {
                                    R12movecount+=1;
                                }
                                if (piece=='R21') {
                                    R21movecount+=1;
                                }
                                if (piece=='R22') {
                                    R22movecount+=1;
                                }
                                if (piece=='K1') {
                                    K1movecount+=1;
                                }
                                if (piece=='K2') {
                                    K2movecount+=1; 
                                }
                                if (piece[0]=='P'&&(endy==starty+2||endy==starty-2)) {
                                    lastmove = startx;
                                }
                                else {
                                    lastmove = 100;
                                }
                                //def lastmove
                                return lastmove;
                            /*}
                            else {
                                alert('invalid');
                                return 'notvalid';
                            }*/

                        }
                        function movepiecenoshow(board, startx, starty, endx, endy) {
                            /*alert('moving');
                            //remove valid check here? have it in main function maybe
                            if (isvalidmove(board, startx, starty, endx, endy)) {*/
                                var piece = board[starty][startx];
                                board[starty][startx]='x';
                                board[endy][endx]=piece;
                            /*}
                            else {
                                alert('invalid');
                                return 'notvalid';
                            }*/

                        }

                        function ischeck(board, turnplayer) {
                            var kingx = 0;
                            var kingy = 0;
                            for (var i=0; i<8; i++) {
                                for (var j=0; j<8; j++) {
                                    if (board[i][j][0]=='K' && board[i][j][1]==turnplayer) {
                                        var kingx = j;
                                        var kingy = i;
                                    }
                                }
                            }
                            for (var i=0; i<8; i++) {
                                for (var j=0; j<8; j++) {
                                    if (board[i][j]!='x' && board[i][j][1]!=turnplayer) {
                                        if (isvalidmove(board, j, i, kingx, kingy)) {
                                            return true;
                                        }
                                    }
                                }
                            }
                            return false;
                        }
                        function ismate(board, turnplayer) {
                            var board2 = copyboard(board);
                            var boardog = copyboard(board);
                            for (var i=0; i<8; i++) {
                                for (var j=0; j<8; j++) {
                                    if (board[i][j]!='x' && board[i][j][1]==turnplayer) {
                                        for (var y=0; y<8; y++) {
                                            for (var x=0; x<8; x++) {
                                                if (isvalidmove(board, j, i, x, y)) {
                                                    movepiecenoshow(board2, j, i, x, y);
                                                    if (!(ischeck(board, turnplayer))) {
                                                        return '';
                                                    }
                                                    board2 = boardog;
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            if (ischeck(board, turnplayer)) return 'checkmate';
                            else return 'stalemate';
                        }

                        function convsquare(str) {
                            var col = str[0];
                            var row = str[1];
                            var outstr=0;
                            if (col=="a") outstr+=0;
                            if (col=="b") outstr+=10;
                            if (col=="c") outstr+=20;
                            if (col=="d") outstr+=30;
                            if (col=="e") outstr+=40;
                            if (col=="f") outstr+=50;
                            if (col=="g") outstr+=60;
                            if (col=="h") outstr+=70;
                            if (row=="1") outstr+=7;
                            if (row=="2") outstr+=6;
                            if (row=="3") outstr+=5;
                            if (row=="4") outstr+=4;
                            if (row=="5") outstr+=3;
                            if (row=="6") outstr+=2;
                            if (row=="7") outstr+=1;
                            if (row=="8") outstr+=0;
                            return outstr;
                        }

                        function submitmove() {
                            var allInputs = document.getElementsByTagName('input');
                            inputstart=allInputs.item(226).value;
                            inputend=allInputs.item(227).value;
                            var convstart = convsquare(inputstart);
                            var convend = convsquare(inputend);
                            var startx = Math.floor(convstart/10);
                            var starty = convstart % 10;
                            var endx = Math.floor(convend/10);
                            var endy = convend % 10;
                            //get x y start end

                            var pc = board[starty][startx];
                            if (pc!="x") {
                                var pl = pc[1];
                                var plint = 0;
                                if (pl=="1") plint = 1;
                                else if (pl=="2") plint=2;
                            }

                            /*if (isvalidmove(board, startx, starty, endx, endy) && ((turn%2)+1==plint)) {
                                movepiece(board, startx, starty, endx, endy);

                                //wipe inputs
                                turn+=1;
                                allInputs.item(226).value='';
                                allInputs.item(227).value='';
                            }
                            else {
                                alert('the inputted move is invalid or it is the other player\'s turn, please try again')
                            }*/

                            //maybe use while loop here to keep getting input until valid move
                            if (isvalidmove(board, startx, starty, endx, endy) && ((turn%2)+1==plint)) {
                                lastmove = movepiece(board, startx, starty, endx, endy);

                                //wipe inputs
                                turn+=1;
                                allInputs.item(226).value='';
                                allInputs.item(227).value='';

                                var gameend = ismate(board, ((turn%2)+1));
                                if (gameend == 'checkmate' || gameend == 'stalemate') {
                                    alert(gameend+'!')
                                    document.getElementById("moveinput").style.display = 'none';

                                }
                            }
                            else {
                                alert('the inputted move is invalid or it is the other player\'s turn, please try again')
                            }
                        }

                    </script>
                    <div id="solvediv">
                        <button onclick="startgame();" class="solvedbutton">start new game</button>
                    </div>
                    <div id="moveinput">Move: <input class='moveinput' maxlength=2 minlength=2 placeholder="start square">-<input class='moveinput' maxlength=2 minlength=2 placeholder="end square">
                        <button onclick="submitmove();" class="submitbutton">submit</button>
                    </div>
                </div>
             </div>
         </div>
    </body>
</html>

